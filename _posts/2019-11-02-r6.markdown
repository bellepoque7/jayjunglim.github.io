---
title: "7장 통계분석 6) 상관분석"
date: 2017-11-02  09:00:00 -0400
categories: R
---


## 6 상관 분석

두 확률 변수 사이의 관련성을 파악하는 방법.

피어슨, 스피어만, 켄달의 순위 상관계수 등이 있음.

다음 식이 성립하면 독립이라고 한다.

$$P(X,Y) = P(X) * P(Y)$$

### 6-1 피어슨 상관 계수

두 변수 산의 선형적 상관관계를 의미

$$\rho(X,Y) = \frac{cov(X,Y)}{\sigma_{x}\sigma_{y}}$$

분모는 X,Y의 공분산, 분자는 표준편차

*공분산: 공분산은 두 확률변수가 함께 증가/감소하면 양의 값, 한쪽이 증가할때 다른쪽이 감소하면 음의 값을 가지며 상관이 없다면 0의 값을 가진다.

따라서 피어슨 상관계수는 그 공분산을 표준 편차로 나누어 [-1,1] 값을 가지도록 만들어 준 것으로 볼 수 있다.

- 실행 예제

[](https://www.notion.so/206b658d0cd4439fb0ef5d984cbac9e3#4d22488080004e94a74583155f278e3d)

시각화 방법으로 symnum(), corrgram() 등을 사용할 수 있다.

### 6-2 스피어만 상관 계수

두 데이터의 실제 값 대신 두 값의 순위를 사용해 상관 계수를 사용하는 방법.

1이면 한쪽 순위가 증가함에 따라 다른 순위도 증가, 0은 상관 없음. 피어슨 과 달리 비선형 관계의 연관성을 파악 할 수 있는 장점

예를들면 국어 점수와 영어점수의 상관 관계는 피어슨, 국어 석차와 영어의 석차 상관관계는 스피어만 상관계수로 계산 할 수 있다.

 

$$\rho = \frac{\Sigma_{i}(x_{i}-\bar{x})(y_{i}-\bar{y})}{\sqrt{\Sigma_{i}{(x_i - \bar{x})^2}}{\sqrt{\Sigma_{i}(y_i-\bar{y})^2}}}$$

x_i는 i번째 데이터의 순위 이다.

[](https://www.notion.so/206b658d0cd4439fb0ef5d984cbac9e3#8d33623b79014564bc5d4a8dfe56408c)

피어슨과 스피어만의 결과 값이 다른 것을 확인해 볼 수 있다.

### 6-3 켄달의 순위 상관 계수

x가 커질 때 y도 커지면 부합, x가 커질 때 y가 작아지면 비부합이라고 한다.

$$\tau = \frac{(부합 데이터 쌍의 수) - (비부합 데이터 쌍의 수)}{\frac{1}{2}n(n-1)}$$

부합쌍이 비부합쌍에 비해 얼마나 많은지 본다. 1이면 부합 데이터쌍의 비율이 100%이라는 의미이다. 여기서 쌍은 모든 조합의 갯수를 샌다.

[](https://www.notion.so/206b658d0cd4439fb0ef5d984cbac9e3#065f2fbaaebb403ea22771f2f90f215d)

### 6-4 상관 계수 검정

cor.test 를 이용하여 상관 계수 검정을 수행하여 통계적 유의성을 판단할 수 있다. 이때 귀무가설은 "상관계수가 0이다" 이다.

[](https://www.notion.so/206b658d0cd4439fb0ef5d984cbac9e3#33b2ebef87824731b070dab70b160abb)

같은 순서쌍에도 person은 유의하다고 본 반면 나머지 값들은 유의 하지 않다고 보았다. 이런경우 p-value가 낮은 것을 사용하는 것이 바람직하다. 또한 데이터 성격에 비추어 올바른 상관관계를 찾아야 할 것이다.